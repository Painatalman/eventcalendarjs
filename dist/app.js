!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("eventcalendarjs",[],t):"object"==typeof exports?exports.eventcalendarjs=t():e.eventcalendarjs=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),d=r(o),s=n(3),l=r(s),u=n(4),c=r(u),f=function(){function e(t,n){var r=this,i=n.year,o=n.month,s=n.day,u=n.firstDayOfWeek,f=void 0===u?1:u,h=(n.multipleElements,n.pictureUrl),v=n.eventSettingObjects,p=void 0===v?[]:v;a(this,e);var g=new Date;i&&g.setYear(i),o&&g.setMonth(parseInt(o)-1),g.setDate(1),this.isRendered=!1,this.pictureUrl=h,this.element=document.querySelector(t),this.curDay=s,this.firstDayOfWeek=f||1,this.curDate=g,this.events=new d["default"],p.forEach(function(e){r.events.addEvent(new l["default"](e))}),this.element.classList.contains(c["default"]["calendar-widget"])||this.element.classList.add(c["default"]["calendar-widget"]),this.render()}return i(e,[{key:"createAndAddEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{day:day,month:month,year:year,title:title,description:"No description",picture:picture,isYearly:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{success:null,error:null};try{this.events.createAndAddEvent(e),this.isRendered&&this.render(),t&&"function"==typeof t.success&&t.success()}catch(n){t&&"function"==typeof t.error&&t.error()}}},{key:"getEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.events.getEvents(e)}},{key:"getHeaderNode",value:function(){var e=(this.curDate,document.createElement("header")),t=document.createElement("div"),n=document.createElement("img"),r=document.createElement("div"),a=this.getCalendarNavNode(!1),i=this.getCalendarNavNode(!0),o=this.getCalendarTitleNode();return e.classList.add(c["default"]["calendar-widget__header"]),r.appendChild(a),r.appendChild(o),r.appendChild(i),r.classList.add(c["default"]["calendar-widget__title"]),this.pictureUrl&&(t.classList.add(c["default"]["calendar-widget__picture-frame"]),n.classList.add(c["default"]["calendar-widget__picture"]),n.setAttribute("src",this.pictureUrl),t.appendChild(n),e.appendChild(t)),e.appendChild(r),e}},{key:"getCalendarTitleNode",value:function(){var e=document.createElement("span");return e.innerHTML+=this.curDate.getFullYear()+" - "+this.curDate.toLocaleString(window.locale,{month:"long"}),e}},{key:"getCalendarNavNode",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=document.createElement("span"),r=t?"next":"prev";return n.classList.add(c["default"]["calendar-widget__nav"]),n.classList.add(c["default"]["calendar-widget__nav--"+r]),n.addEventListener("click",function(){e.setPrevNextMonth(t)}),n}},{key:"getCalendarHeaderNode",value:function(){for(var e=document.createElement("tr"),t=this.getFirstDayOfCalendar(),n=0;n<7;n++){var r=document.createElement("th");r.classList.add(c["default"]["calendar-widget__weekday"]),r.innerHTML=t.toLocaleString(window.navigator.language,{weekday:"short"}),e.appendChild(r),t.setDate(t.getDate()+1)}return e}},{key:"getCalendarNode",value:function(){var e=document.createElement("table");return e.classList.add(c["default"]["calendar-widget__days"]),e.appendChild(this.getCalendarHeaderNode()),e.appendChild(this.getCalendarDaysNode()),e}},{key:"getCalendarWeekNode",value:function(e){var t=new Date(e),n=document.createElement("tr");n.classList.add(c["default"]["calendar-widget__week"]);for(var r=0;r<7;r++)n.appendChild(this.getCalendarDayNode(t)),t.setDate(t.getDate()+1);return n}},{key:"getCalendarDayNode",value:function(e){var t=document.createElement("td"),n=this.events.getEventsFor(e);return t.classList.add(c["default"]["calendar-widget__day"]),t.innerHTML=e.getDate(),n.length&&(t.title=n.map(function(e){return e.title}).reduce(function(e,t){return e+" | "+t}),t.classList.add(c["default"]["calendar-widget__day--has-event"])),t}},{key:"getCalendarDaysNode",value:function(){for(var e=this.getFirstDayOfCalendar(),t=this.getLastDayOfCalendar(),n=document.createElement("tbody");e<=t;)n.appendChild(this.getCalendarWeekNode(e)),e.setDate(e.getDate()+7);return n}},{key:"renderDayElement",value:function(e){return e+" "}},{key:"render",value:function(){this.element.innerHTML="";var e=document.createDocumentFragment();e.appendChild(this.getHeaderNode()),e.appendChild(this.getCalendarNode()),this.element.appendChild(e),this.isRendered=!0}},{key:"getLastDayOfMonth",value:function(){var e=this.curDate,t=e.getMonth(),n=t+1,r=new Date(e);return r.setMonth(n),r.setDate(r.getDate()-1),r}},{key:"getFirstDayOfCalendar",value:function(){var e=this.curDate.getDay()-this.firstDayOfWeek;e<0&&(e+=7);var t=new Date(this.curDate);return t.setDate(t.getDate()-e),t}},{key:"getLastDayOfCalendar",value:function(){var e=this.getLastDayOfMonth(),t=(this.firstDayOfWeek+6)%7,n=t-e.getDay();n<0&&(n+=7);var r=new Date(e);return r.setDate(r.getDate()+n),r}},{key:"setPrevNextMonth",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?1:-1;this.curDate.setMonth(this.curDate.getMonth()+t),this.render()}}]),e}();e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(3),s=r(d),l=function(){function e(){a(this,e),this.events={}}return o(e,[{key:"createEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{day:day,month:month,year:year,title:title,description:"No description",picture:picture,isYearly:!1};return new s["default"](e)}},{key:"createAndAddEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{day:day,month:month,year:year,title:title,description:"No description",picture:picture,isYearly:!1};this.addEvent(this.createEvent(e))}},{key:"addEvent",value:function(e){var t=e.getYear(),n=e.getMonth(),r=e.getDay(),a=this.events;t in a||(a[t]={}),n in a[t]||(a[t][n]={}),r in a[t][n]||(a[t][n][r]=[]),a[t][n][r].push(e)}},{key:"getEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return this.events;var n=function(){var t=e.events,n=[];for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];for(var d in o)if(o.hasOwnProperty(d)){var s=o[d];s.forEach(function(e){var t={};Object.assign(t,e,{day:e.getDay(),month:e.getMonth(),year:e.getYear()}),delete t.date,n.push(t)})}}}return{v:n}}();return"object"===("undefined"==typeof n?"undefined":i(n))?n.v:void 0}},{key:"getEventsFor",value:function(e,t,n){var r=this.events;e instanceof Date&&(n=e.getFullYear(),t=e.getMonth()+1,e=e.getDate());var a=n in r&&t in r[n]&&e in r[n][t]&&r[n][t][e]||[],i="all"in r&&t in r.all&&e in r.all[t]&&r.all[t][e]||[];return a.concat(i)}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var r=t.day,a=t.month,i=t.year,o=t.title,d=t.description,s=void 0===d?"No description":d,l=t.picture,u=t.isYearly,c=void 0!==u&&u;n(this,e),this.date=new Date;var f=this.date;f.setDate(r),f.setMonth(parseInt(a)-1),f.setYear(i),this.isYearly=c,this.title=o,this.description=s,this.picture=l}return r(e,[{key:"getYear",value:function(){return this.isYearly?"all":this.date.getFullYear()}},{key:"getMonth",value:function(){return this.date.getMonth()+1}},{key:"getDay",value:function(){return this.date.getDate()}}]),e}();t["default"]=a},function(e,t,n){"use strict";var r=n(5);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'*{box-sizing:border-box;padding:0;margin:0}._2RAD_vkaU19L2hZ_gskCnn{display:inline-block;width:100%;min-width:240px;max-width:450px;border:1px solid #000}.bH2qtGmTbQC9XG7l-tn24{width:100%}._2IRuTPC4H_NdMoWrUxOaRi{position:relative;width:100%;overflow:hidden}._2RCtJeTSbDaaPwodrIaRG6{text-align:center;font-size:1.3em;padding:12px 0;margin-bottom:12px;box-shadow:0 2px 5px #000;text-transform:uppercase;font-weight:700}._1r1-LHDM3SqWsZFMrYvLg4{text-align:center;width:100%}._2aQH-XwriFOhimQYVtrxdV{height:35px}._3SAYy-8PiaIaDu90Now9mo{color:salmon;font-weight:700;cursor:pointer;text-decoration:underline}._2wdc8AtSVOvul0TsPxgClc{padding:0 32px;cursor:pointer}._2UFkw8Vh8II0DwBBG6O-UL{float:left}._2UFkw8Vh8II0DwBBG6O-UL:before{content:"\\25C3"}._2BTZy1jqmyEVYmtrgjDs1c{float:right}._2BTZy1jqmyEVYmtrgjDs1c:before{content:"\\25B6"}',""]),t.locals={"calendar-widget":"_2RAD_vkaU19L2hZ_gskCnn","calendar-widget__header":"hj4JqZksj6dmYGdqXeDWv","calendar-widget__picture":"bH2qtGmTbQC9XG7l-tn24","calendar-widget__picture-frame":"_2IRuTPC4H_NdMoWrUxOaRi","calendar-widget__title":"_2RCtJeTSbDaaPwodrIaRG6","calendar-widget__days":"_1r1-LHDM3SqWsZFMrYvLg4","calendar-widget__day":"_2aQH-XwriFOhimQYVtrxdV","calendar-widget__day--has-event":"_3SAYy-8PiaIaDu90Now9mo","calendar-widget__nav":"_2wdc8AtSVOvul0TsPxgClc","calendar-widget__nav--prev":"_2UFkw8Vh8II0DwBBG6O-UL","calendar-widget__nav--next":"_2BTZy1jqmyEVYmtrgjDs1c"}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=h[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(l(r.parts[i],t))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(l(r.parts[i],t));h[r.id]={id:r.id,refs:1,parts:o}}}}function a(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],i=a[0],o=a[1],d=a[2],s=a[3],l={css:o,media:d,sourceMap:s};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function i(e,t){var n=g(),r=w[w.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),w.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=w.indexOf(e);t>=0&&w.splice(t,1)}function d(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var n,r,a;if(t.singleton){var i=m++;n=y||(y=d(t)),r=u.bind(null,n,i,!1),a=u.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=f.bind(null,n),a=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(t),r=c.bind(null,n),a=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function u(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function c(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var h={},v=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=v(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=v(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,w=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=a(e);return r(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var d=n[o],s=h[d.id];s.refs--,i.push(s)}if(e){var l=a(e);r(l,t)}for(var o=0;o<i.length;o++){var s=i[o];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete h[s.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}])});